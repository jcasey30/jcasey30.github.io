(function(t){function e(e){for(var r,n,o=e[0],l=e[1],h=e[2],g=0,u=[];g<o.length;g++)n=o[g],i[n]&&u.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(u.length)u.shift()();return s.push.apply(s,h||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},i={app:0},s=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),i=a("bb71");a("da64");r["a"].use(i["a"],{theme:{primary:"#003057",secondary:"#B3A369",accent:"#8c9eff",error:"#b71c1c"}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{dark:"",app:"",color:"primary"}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-light",attrs:{"text-color":"secondary"}},[t._v("GT Utilities Audit")])]),a("v-spacer")],1),a("v-content",[a("v-container",{attrs:{"grid-list-xs,sm,md,lg,xl":""}},[a("v-select",{attrs:{items:t.items,"item-text":"state","item-value":"abbr",label:"Select bulding","return-object":""},on:{input:function(e){t.changeBuilding(""+t.select.abbr)}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),a("v-select",{attrs:{items:t.qnameList,"item-text":"state","item-value":"abbr",label:"Select Quantity","return-object":""},on:{input:function(e){t.changeQuant(""+t.select2.abbr)}},model:{value:t.select2,callback:function(e){t.select2=e},expression:"select2"}}),a("v-flex",[a("v-btn",{attrs:{small:"",round:"",color:t.cumulativeColor},on:{click:t.cumulative}},[t._v("Cumulative")]),a("v-btn",{attrs:{round:"",disabled:t.disSmooth,color:"primary"},on:{click:t.smoothData}},[t._v("Smooth Data")])],1),a("v-btn",{attrs:{small:"",round:"",color:t.clr2018},on:{click:t.change2018}},[t._v("2018")]),a("v-btn",{attrs:{small:"",round:"",color:t.clr2017},on:{click:t.change2017}},[t._v("2017")]),a("v-btn",{attrs:{small:"",round:"",color:t.clr2016},on:{click:t.change2016}},[t._v("2016")]),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{attrs:{round:"",loading:t.loading1,disabled:t.loading1,color:"primary"},on:{click:t.showGraphFun}},[t._v("Show Year to date")]),a("v-btn",{attrs:{round:"",loading:t.loading2,disabled:t.loading2,color:"primary"},on:{click:t.showgraphYearly}},[t._v("Show yearly Average")])],1),a("v-card",{attrs:{"ma-1":""}},[a("span",{staticStyle:{margin:"10px"}},[a("div",{ref:"echartsCard",staticStyle:{height:"500px",margin:"10px"}})])])],1)],1)],1)},n=[],o=(a("6762"),a("a4bb")),l=a.n(o),h=(a("7f7f"),a("75fc")),c=a("313e"),g=a.n(c),u={name:"App",data:function(){return{items:[{state:"Skiles",abbr:"B002M"},{state:"Weber",abbr:"B084M"},{state:"Harrison Residence Hall",abbr:"B014M"},{state:"Stamps Student Center Commons",abbr:"B114M"},{state:"Student Sucess center",abbr:"B031M"}],svalue:["B002M","B005M"],building:"",qname:"",qnameList:["Condensate"],showGraph:!1,labels:["0","1","2","3"],value:[1,2,3,4],graphdata:[{sName:"B002M",sID:"1238",qName:"Condensate",qID:"497",data:[{time:"2019-01-25 14:15",value:6286035}]}],date:(new Date).toISOString().substr(0,10),endDate:(new Date).toISOString().substr(0,10),dateArray:[],menu:!1,menu2:!1,dateArrayString:"",years:[!1,!1,!1],clr2017:"primary",dateStr2017:"",dateArr2017:[],clr2016:"primary",dateStr2016:"",dateArr2016:[],clr2018:"primary",datestr2018:"",dateArr2018:[],averagedValues:[],loading1:!1,loading2:!1,graphseries:[],timeseries:[],avgbtn:!1,cumulativeCheck:!1,cumulativeColor:"primary",num:98,expand:!1,disSmooth:!0}},methods:{smoothData:function(){console.log("Smoothing data"),console.log(this.graphseries);for(var t=0;t<_.size(this.graphseries);t++){var e=this.graphseries[t].data;console.log(e);var a=[];a.push(e[0]);for(var r=1;r<e.length-1;r++){var i=(e[r-1]+e[r+1])/2;e[r-1]>e[r]?(console.log("Replacing item"),a.push(i)):a.push(e[r])}a.push(e[-1]),console.log(e),console.log(a),this.graphseries[t].data=a,console.log(this.graphseries)}var s={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:this.timeseries},yAxis:{type:"value"},series:this.graphseries,title:{text:this.building+" "+this.qname,x:"center"}};this.chart.setOption(s,!0)},cumulative:function(){"primary"==this.cumulativeColor?(this.cumulativeColor="secondary",this.cumulativeCheck=!0,num=1,this.timeseries=[]):(this.cumulativeColor="primary",this.num=98,this.cumulativeCheck=!1,this.timeseries=[],this.timeseries=[])},change2017:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2017){this.clr2017="secondary",this.years[2]=!0;var t=[],e=new Date("2017-01-02"),a=new Date("2018-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.dateStr2017=t.join("||")}else this.clr2017="primary",this.dateStr2017="",this.years[2]=!1},change2016:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2016){this.clr2016="secondary",this.years[1]=!0;var t=[],e=new Date("2016-01-02"),a=new Date("2017-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.dateStr2016=t.join("||")}else this.clr2016="primary",this.dateStr2016="",this.years[1]=!1},change2018:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2018){this.clr2018="secondary",this.years[0]=!0;var t=[],e=new Date("2018-01-02"),a=new Date("2019-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.datestr2018=t.join("||")}else this.clr2018="primary",this.datestr2018="",this.years[0]=!1},showDate:function(){var t=[],e=new Date("2019-01-02"),a=new Date("2019-02-25");while(a<=e){t.push(String(a.getFullYear())+"-"+String(a.getMonth()+1)+"-"+String(a.getDate()));var r=a.getDate()+1;a.setDate(r)}this.dateArray=t,this.dateArrayString=this.dateArray.join("||"),console.log(this.dateArrayString)},changeQuant:function(t){this.qname=t,"Condensate"==t||"Cooling Total"==t||"COND_TOT(100GAL)"==t?(this.cumulativeColor="secondary",this.cumulativeCheck=!0):(this.cumulativeColor="primary",this.cumulativeCheck=!1),console.log(this.qname),this.timeseries=[],this.graphseries=[]},changeBuilding:function(t){var e=this;this.timeseries=[],this.graphseries=[],console.log(t),this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num=1&bldg="+t).then(function(a){console.log(a.data);for(var r=[],i=0;i<a.data.length;i++)console.log(a.data[i].qName),r.push({state:a.data[i].qName,abbr:a.data[i].qName});e.qnameList=r,e.building=t})},showGraphFun:function(){var t=this;this.loading1=!0;var e=[],a=new Date("2019-01-02"),r=new Date;while(a<=r){e.push(String(a.getFullYear())+"-"+String(a.getMonth()+1)+"-"+String(a.getDate()));var i=a.getDate()+1;a.setDate(i)}this.dateArrayString=e.join("||"),console.log(this.dateArrayString),this.showGraph=!0,this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num="+String(this.num)+"&bldg="+String(this.building)+"&time="+String(this.dateArrayString)).then(function(e){console.log(e.data),t.graphdata=Object(h["a"])(e.data);for(var a=[],r=[],i=0;i<t.graphdata.length;i++)if(t.graphdata[i].sName==t.building&&t.graphdata[i].qName==t.qname){a.push(t.graphdata[i].data[0].time.slice(5,10));for(var s=0,n=0,o=_.size(e.data[i].data);n<o;n++)s+=e.data[i].data[n].value;s/=_.size(e.data[i].data),r.push(s)}if(1==t.cumulativeCheck)for(var l=r[0],c=0;c<r.length;c++)r[c]=r[c]-l;t.graphseries.push({type:"line",data:r,name:"Year to date"}),console.log(t.graphseries[0].name),0==t.timeseries.length?t.timeseries=a:console.log("No change in series"),t.loading1=!1;var g={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:t.timeseries},yAxis:{type:"value"},series:t.graphseries,title:{text:t.building+" "+t.qname,x:"center"}};t.chart.setOption(g,!0)})},showgraphYearly:function(){var t=this;this.loading2=!0;for(var e="",a=[this.datestr2018,this.dateStr2016,this.dateStr2017],r=0;r<this.years.length;r++)1==this.years[r]&&(e+=String(a[r])+"||");console.log(this.qname),this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num="+String(this.num)+"&bldg="+String(this.building)+"&time="+String(e)).then(function(e){console.log(e);for(var a=[],r=[],i=0,s=e.data.length;i<s;i++)if(e.data[i].qName==t.qname&&5==l()(e.data[i]).length){for(var n=0,o=0,h=_.size(e.data[i].data);o<h;o++)n+=e.data[i].data[o].value;n/=_.size(e.data[i].data),a.push(n),r.push(e.data[i].data[0].time)}for(var c=0,g=r.length;c<g;c++)r[c]=r[c].slice(5,10);for(var u=[],d=0,p=a.length;d<p;d++)u.push({date:r[d],value:a[d]});for(var v=[],m=[],f=0,y=u.length;f<y;f++)if(m.includes(u[f].date))for(var b=0;b<v.length;b++)v[b].date==u[f].date&&null!=u[f]&&v[b].val.push(u[f].value);else m.push(u[f].date),v.push({date:u[f].date,val:[u[f].value]});console.log("Obj Array"),console.log(u);var S=[],x=[];v=_.sortBy(v,"date"),console.log("Total Array"),console.log(v);var w=[];if(1==t.cumulativeCheck)for(var D=0;D<_.size(v[0].val);D++)w.push(v[0].val[D]);else for(var C=0;C<_.size(v[0].val);C++)w.push(0);for(var A=0,k=v.length;A<k;A++){var q=Math.min(w.length,_.size(v[A].val)),M=0;console.log(v[A].val);for(var O=0;O<q;O++){console.log(O),console.log(v[A].val[O]);var j=v[A].val[O]-w[O];M+=j}var B=M/q;console.log(B),console.log(v[A].val),S.push(B),x.push(v[A].date)}var V=[];V.push(S[0]),V.push(S[0]/2+S[1]/2),V.push(S[0]/3+S[1]/3+S[2]/3),V.push(S[0]/4+S[1]/4+S[2]/4+S[3]/4);for(var T=5,z=S.length-5;T<z;T++){var N=S[T-4]+S[T-3]+S[T-2]+S[T-1]+S[T],P=S[T+1]+S[T+2]+S[T+3]+S[T+4],Y=(N+P)/9;V.push(Y)}V.push(S[-1]/6+S[-3]/6+S[-3]/6+S[-4]/6+S[-5]/6+S[-6]/6),V.push(S[-1]/5+S[-3]/5+S[-3]/5+S[-4]/5+S[-5]/5),V.push(S[-1]/4+S[-3]/4+S[-3]/4+S[-4]/4),V.push(S[-1]/3+S[-2]/3+S[-3]/3),V.push(S[-1]/2+S[-2]/2),V.push(S[-1]),console.log("Moving average"),console.log(V),console.log(V.length),console.log(S.length),t.loading2=!1,0==t.cumulativeCheck&&t.graphseries.push({type:"line",data:V,name:"Moving average"}),t.graphseries.push({type:"line",data:S,name:"Averaged Values"}),console.log("graphseries"),console.log(t.graphseries),t.timeseries=x,1==t.cumulativeCheck?t.disSmooth=!1:t.disSmooth=!0;var F={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:t.timeseries},yAxis:{type:"value"},series:t.graphseries,title:{text:t.building+" "+t.qname,x:"center"}};t.chart.setOption(F,!0)})},graphData:function(t,e){var a={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:this.timeseries},yAxis:{type:"value"},series:this.graphseries,title:{text:this.building+" "+this.qname,x:"center"}};this.chart.setOption(a,!0)}},mounted:function(){this.chart=g.a.init(this.$refs.echartsCard),window.addEventListener("resize",this.chart.resize)}},d=u,p=a("2877"),v=a("6544"),m=a.n(v),f=a("7496"),y=a("8336"),b=a("b0af"),S=a("a523"),x=a("549c"),w=a("0e8f"),D=a("b56d"),C=a("9910"),A=a("71d9"),k=a("2a7f"),q=Object(p["a"])(d,s,n,!1,null,null,null),M=q.exports;m()(q,{VApp:f["a"],VBtn:y["a"],VCard:b["a"],VContainer:S["a"],VContent:x["a"],VFlex:w["a"],VSelect:D["a"],VSpacer:C["a"],VToolbar:A["a"],VToolbarTitle:k["a"]});var O=a("bc3a"),j=a.n(O),B=a("a7fe"),V=a.n(B);a("2ef0");r["a"].use(V.a,j.a),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(M)}}).$mount("#app")}});
//# sourceMappingURL=app.dbbcce00.js.map