(function(t){function e(e){for(var r,n,o=e[0],l=e[1],h=e[2],u=0,g=[];u<o.length;u++)n=o[u],s[n]&&g.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);c&&c(e);while(g.length)g.shift()();return i.push.apply(i,h||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},i=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var r=a("2b0e"),s=a("bb71");a("da64");r["a"].use(s["a"],{theme:{primary:"#003057",secondary:"#B3A369",accent:"#8c9eff",error:"#b71c1c"}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{dark:"",app:"",color:"primary"}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-light",attrs:{"text-color":"secondary"}},[t._v("GT Utilities Audit")])]),a("v-spacer")],1),a("v-content",[a("v-container",{attrs:{"grid-list-xs,sm,md,lg,xl":""}},[a("v-select",{attrs:{items:t.items,"item-text":"state","item-value":"abbr",label:"Select bulding","return-object":""},on:{input:function(e){t.changeBuilding(""+t.select.abbr)}},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}}),a("v-select",{attrs:{items:t.qnameList,"item-text":"state","item-value":"abbr",label:"Select Quantity","return-object":""},on:{input:function(e){t.changeQuant(""+t.select2.abbr)}},model:{value:t.select2,callback:function(e){t.select2=e},expression:"select2"}}),a("v-flex",[a("v-btn",{attrs:{small:"",round:"",color:t.cumulativeColor},on:{click:t.cumulative}},[t._v("Cumulative")]),a("v-btn",{attrs:{round:"",disabled:t.disSmooth,color:"primary"},on:{click:t.smoothData}},[t._v("Smooth Data")])],1),a("v-btn",{attrs:{small:"",round:"",color:t.clr2018},on:{click:t.change2018}},[t._v("2018")]),a("v-btn",{attrs:{small:"",round:"",color:t.clr2017},on:{click:t.change2017}},[t._v("2017")]),a("v-btn",{attrs:{small:"",round:"",color:t.clr2016},on:{click:t.change2016}},[t._v("2016")]),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{attrs:{round:"",loading:t.loading1,disabled:t.loading1,color:"primary"},on:{click:t.showGraphFun}},[t._v("Show Year to date")]),a("v-btn",{attrs:{round:"",loading:t.loading2,disabled:t.loading2,color:"primary"},on:{click:t.showgraphYearly}},[t._v("Show yearly Average")])],1),a("v-card",{attrs:{"ma-1":""}},[a("span",{staticStyle:{margin:"10px"}},[a("div",{ref:"echartsCard",staticStyle:{height:"500px",margin:"10px"}})])])],1)],1)],1)},n=[],o=(a("6762"),a("a4bb")),l=a.n(o),h=(a("7f7f"),a("75fc")),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),r("v-flex",{attrs:{"mb-4":""}},[r("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n        Welcome to Vuetify\n      ")]),r("p",{staticClass:"subheading font-weight-regular"},[t._v("\n        For help and collaboration with other Vuetify developers,\n        "),r("br"),t._v("please join our online\n        "),r("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),r("v-flex",{attrs:{"mb-5":"",xs12:""}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),r("v-layout",{attrs:{"justify-center":""}},t._l(t.whatsNext,function(e,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1),r("v-flex",{attrs:{xs12:"","mb-5":""}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),r("v-layout",{attrs:{"justify-center":""}},t._l(t.importantLinks,function(e,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1),r("v-flex",{attrs:{xs12:"","mb-5":""}},[r("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),r("v-layout",{attrs:{"justify-center":""}},t._l(t.ecosystem,function(e,a){return r("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1)],1)],1)},u=[],g={data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuetifyjs.com"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},d=g,p=a("2877"),m=a("6544"),v=a.n(m),f=a("a523"),y=a("0e8f"),b=a("adda3"),x=a("a722"),S=Object(p["a"])(d,c,u,!1,null,null,null),w=S.exports;v()(S,{VContainer:f["a"],VFlex:y["a"],VImg:b["a"],VLayout:x["a"]});var C=a("313e"),D=a.n(C),k={name:"App",components:{HelloWorld:w},data:function(){return{items:[{state:"Skiles",abbr:"B002M"},{state:"Weber",abbr:"B084M"},{state:"Harrison Residence Hall",abbr:"B014M"},{state:"Stamps Student Center Commons",abbr:"B114M"},{state:"Student Sucess center",abbr:"B031M"}],svalue:["B002M","B005M"],building:"",qname:"",qnameList:["Condensate"],showGraph:!1,labels:["0","1","2","3"],value:[1,2,3,4],graphdata:[{sName:"B002M",sID:"1238",qName:"Condensate",qID:"497",data:[{time:"2019-01-25 14:15",value:6286035}]}],date:(new Date).toISOString().substr(0,10),endDate:(new Date).toISOString().substr(0,10),dateArray:[],menu:!1,menu2:!1,dateArrayString:"",years:[!1,!1,!1],clr2017:"primary",dateStr2017:"",dateArr2017:[],clr2016:"primary",dateStr2016:"",dateArr2016:[],clr2018:"primary",datestr2018:"",dateArr2018:[],averagedValues:[],loading1:!1,loading2:!1,graphseries:[],timeseries:[],avgbtn:!1,cumulativeCheck:!1,cumulativeColor:"primary",num:98,expand:!1,disSmooth:!0}},methods:{smoothData:function(){console.log("Smoothing data"),console.log(this.graphseries);for(var t=0;t<_.size(this.graphseries);t++){var e=this.graphseries[t].data;console.log(e);var a=[];a.push(e[0]);for(var r=1;r<e.length-1;r++){var s=(e[r-1]+e[r+1])/2;e[r-1]>e[r]?(console.log("Replacing item"),a.push(s)):a.push(e[r])}a.push(e[-1]),console.log(e),console.log(a),this.graphseries[t].data=a,console.log(this.graphseries)}var i={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:this.timeseries},yAxis:{type:"value"},series:this.graphseries,title:{text:this.building+" "+this.qname,x:"center"}};this.chart.setOption(i,!0)},cumulative:function(){"primary"==this.cumulativeColor?(this.cumulativeColor="secondary",this.cumulativeCheck=!0,num=1,this.timeseries=[]):(this.cumulativeColor="primary",this.num=98,this.cumulativeCheck=!1,this.timeseries=[],this.timeseries=[])},change2017:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2017){this.clr2017="secondary",this.years[2]=!0;var t=[],e=new Date("2017-01-02"),a=new Date("2018-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.dateStr2017=t.join("||")}else this.clr2017="primary",this.dateStr2017="",this.years[2]=!1},change2016:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2016){this.clr2016="secondary",this.years[1]=!0;var t=[],e=new Date("2016-01-02"),a=new Date("2017-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.dateStr2016=t.join("||")}else this.clr2016="primary",this.dateStr2016="",this.years[1]=!1},change2018:function(){if(this.timeseries=[],this.graphseries=[],"primary"==this.clr2018){this.clr2018="secondary",this.years[0]=!0;var t=[],e=new Date("2018-01-02"),a=new Date("2019-01-01");while(e<=a){t.push(String(e.getFullYear())+"-"+String(e.getMonth()+1)+"-"+String(e.getDate()));var r=e.getDate()+1;e.setDate(r)}this.datestr2018=t.join("||")}else this.clr2018="primary",this.datestr2018="",this.years[0]=!1},showDate:function(){var t=[],e=new Date("2019-01-02"),a=new Date("2019-02-25");while(a<=e){t.push(String(a.getFullYear())+"-"+String(a.getMonth()+1)+"-"+String(a.getDate()));var r=a.getDate()+1;a.setDate(r)}this.dateArray=t,this.dateArrayString=this.dateArray.join("||"),console.log(this.dateArrayString)},changeQuant:function(t){this.qname=t,"Condensate"==t||"Cooling Total"==t||"COND_TOT(100GAL)"==t?(this.cumulativeColor="secondary",this.cumulativeCheck=!0):(this.cumulativeColor="primary",this.cumulativeCheck=!1),console.log(this.qname),this.timeseries=[],this.graphseries=[]},changeBuilding:function(t){var e=this;this.timeseries=[],this.graphseries=[],console.log(t),this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num=1&bldg="+t).then(function(a){console.log(a.data);for(var r=[],s=0;s<a.data.length;s++)console.log(a.data[s].qName),r.push({state:a.data[s].qName,abbr:a.data[s].qName});e.qnameList=r,e.building=t})},showGraphFun:function(){var t=this;this.loading1=!0;var e=[],a=new Date("2019-01-02"),r=new Date;while(a<=r){e.push(String(a.getFullYear())+"-"+String(a.getMonth()+1)+"-"+String(a.getDate()));var s=a.getDate()+1;a.setDate(s)}this.dateArrayString=e.join("||"),console.log(this.dateArrayString),this.showGraph=!0,this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num="+String(this.num)+"&bldg="+String(this.building)+"&time="+String(this.dateArrayString)).then(function(e){console.log(e.data),t.graphdata=Object(h["a"])(e.data);for(var a=[],r=[],s=0;s<t.graphdata.length;s++)if(t.graphdata[s].sName==t.building&&t.graphdata[s].qName==t.qname){a.push(t.graphdata[s].data[0].time.slice(5,10));for(var i=0,n=0,o=_.size(e.data[s].data);n<o;n++)i+=e.data[s].data[n].value;i/=_.size(e.data[s].data),r.push(i)}if(1==t.cumulativeCheck)for(var l=r[0],c=0;c<r.length;c++)r[c]=r[c]-l;t.graphseries.push({type:"line",data:r,name:"Year to date"}),console.log(t.graphseries[0].name),0==t.timeseries.length?t.timeseries=a:console.log("No change in series"),t.loading1=!1;var u={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:t.timeseries},yAxis:{type:"value"},series:t.graphseries,title:{text:t.building+" "+t.qname,x:"center"}};t.chart.setOption(u,!0)})},showgraphYearly:function(){var t=this;this.loading2=!0;for(var e="",a=[this.datestr2018,this.dateStr2016,this.dateStr2017],r=0;r<this.years.length;r++)1==this.years[r]&&(e+=String(a[r])+"||");console.log(this.qname),this.$http.get("http://energywatch.fac.gatech.edu:3000/api/rollcall?num="+String(this.num)+"&bldg="+String(this.building)+"&time="+String(e)).then(function(e){console.log(e);for(var a=[],r=[],s=0,i=e.data.length;s<i;s++)if(e.data[s].qName==t.qname&&5==l()(e.data[s]).length){for(var n=0,o=0,h=_.size(e.data[s].data);o<h;o++)n+=e.data[s].data[o].value;n/=_.size(e.data[s].data),a.push(n),r.push(e.data[s].data[0].time)}for(var c=0,u=r.length;c<u;c++)r[c]=r[c].slice(5,10);for(var g=[],d=0,p=a.length;d<p;d++)g.push({date:r[d],value:a[d]});for(var m=[],v=[],f=0,y=g.length;f<y;f++)if(v.includes(g[f].date))for(var b=0;b<m.length;b++)m[b].date==g[f].date&&null!=g[f]&&m[b].val.push(g[f].value);else v.push(g[f].date),m.push({date:g[f].date,val:[g[f].value]});console.log("Obj Array"),console.log(g);var x=[],S=[];m=_.sortBy(m,"date"),console.log("Total Array"),console.log(m);var w=[];if(1==t.cumulativeCheck)for(var C=0;C<_.size(m[0].val);C++)w.push(m[0].val[C]);else for(var D=0;D<_.size(m[0].val);D++)w.push(0);for(var k=0,j=m.length;k<j;k++){var A=Math.min(w.length,_.size(m[k].val)),q=0;console.log(m[k].val);for(var M=0;M<A;M++){console.log(M),console.log(m[k].val[M]);var O=m[k].val[M]-w[M];q+=O}var V=q/A;console.log(V),console.log(m[k].val),x.push(V),S.push(m[k].date)}var B=[];B.push(x[0]),B.push(x[0]/2+x[1]/2),B.push(x[0]/3+x[1]/3+x[2]/3),B.push(x[0]/4+x[1]/4+x[2]/4+x[3]/4);for(var N=5,T=x.length-5;N<T;N++){var F=x[N-4]+x[N-3]+x[N-2]+x[N-1]+x[N],z=x[N+1]+x[N+2]+x[N+3]+x[N+4],P=(F+z)/9;B.push(P)}B.push(x[-1]/6+x[-3]/6+x[-3]/6+x[-4]/6+x[-5]/6+x[-6]/6),B.push(x[-1]/5+x[-3]/5+x[-3]/5+x[-4]/5+x[-5]/5),B.push(x[-1]/4+x[-3]/4+x[-3]/4+x[-4]/4),B.push(x[-1]/3+x[-2]/3+x[-3]/3),B.push(x[-1]/2+x[-2]/2),B.push(x[-1]),console.log("Moving average"),console.log(B),console.log(B.length),console.log(x.length),t.loading2=!1,0==t.cumulativeCheck&&t.graphseries.push({type:"line",data:B,name:"Moving average"}),t.graphseries.push({type:"line",data:x,name:"Averaged Values"}),console.log("graphseries"),console.log(t.graphseries),t.timeseries=S,1==t.cumulativeCheck?t.disSmooth=!1:t.disSmooth=!0;var L={legend:{type:"scroll",x:"right"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:t.timeseries},yAxis:{type:"value"},series:t.graphseries,title:{text:t.building+" "+t.qname,x:"center"}};t.chart.setOption(L,!0)})},graphData:function(t,e){var a={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{left:50,top:10,right:30,bottom:20},xAxis:{type:"category",data:this.timeseries},yAxis:{type:"value"},series:this.graphseries,title:{text:this.building+" "+this.qname,x:"center"}};this.chart.setOption(a,!0)}},mounted:function(){this.chart=D.a.init(this.$refs.echartsCard),window.addEventListener("resize",this.chart.resize)}},j=k,A=a("7496"),q=a("8336"),M=a("b0af"),O=a("549c"),V=a("b56d"),B=a("9910"),N=a("71d9"),T=a("2a7f"),F=Object(p["a"])(j,i,n,!1,null,null,null),z=F.exports;v()(F,{VApp:A["a"],VBtn:q["a"],VCard:M["a"],VContainer:f["a"],VContent:O["a"],VFlex:y["a"],VSelect:V["a"],VSpacer:B["a"],VToolbar:N["a"],VToolbarTitle:T["a"]});var P=a("bc3a"),L=a.n(P),Y=a("a7fe"),$=a.n(Y);a("2ef0");r["a"].use($.a,L.a),r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(z)}}).$mount("#app")},"9b19":function(t,e,a){t.exports=a.p+"img/logo.07d1e22e.svg"}});
//# sourceMappingURL=app.aca06677.js.map